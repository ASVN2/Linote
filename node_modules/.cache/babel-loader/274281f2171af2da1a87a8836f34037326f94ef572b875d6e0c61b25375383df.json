{"ast":null,"code":"var _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { db } from '../firebase/config';\nimport { collection, onSnapshot, orderBy, query, where } from 'firebase/firestore';\nimport useProvider from './useProvider';\nconst useCollection = (col, order, filter) => {\n  _s2();\n  var _s = $RefreshSig$();\n  const [docs, setDocuments] = useState('');\n  const [error, setError] = useState('');\n  const {\n    user\n  } = useProvider();\n  _s(useEffect(_s(() => {\n    _s();\n    let docRef = collection(db, col);\n    if (order) {\n      useEffect(() => {\n        docRef = query(docRef, where('uid', '==', user.uid), orderBy(order));\n      });\n    }\n    const unsub = onSnapshot(docRef, snt => {\n      let reses = [];\n      snt.docs.forEach(doc => {\n        reses.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      setDocuments(reses);\n    });\n    return () => unsub;\n  }, \"OD7bBpZva5O2jO+Puf00hKivP7c=\"), [collection]), \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n  return {\n    docs,\n    error\n  };\n};\n_s2(useCollection, \"LXqx9p/t749cYtVJLDvM0QUVtH8=\", false, function () {\n  return [useProvider];\n});\nexport default useCollection;","map":{"version":3,"names":["React","useEffect","useState","db","collection","onSnapshot","orderBy","query","where","useProvider","useCollection","col","order","filter","_s2","_s","$RefreshSig$","docs","setDocuments","error","setError","user","docRef","uid","unsub","snt","reses","forEach","doc","push","id","data"],"sources":["/home/av/Desktop/linote/src/hooks/useCollection.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { db } from '../firebase/config';\n\nimport { collection, onSnapshot, orderBy, query, where } from 'firebase/firestore';\nimport useProvider from './useProvider';\n\nconst useCollection = (col, order, filter) => {\n  const [docs, setDocuments] = useState('');\n  const [error, setError] = useState('');\n  const { user } = useProvider();\n\n  useEffect(() => {\n    let docRef = collection(db, col);\n\n    if (order) {\n      useEffect(() => {\n        docRef = query(docRef, where('uid', '==', user.uid), orderBy(order));\n      });\n    }\n\n    const unsub = onSnapshot(docRef, (snt) => {\n      let reses = [];\n      snt.docs.forEach((doc) => {\n        reses.push({ id: doc.id, ...doc.data() });\n      });\n      setDocuments(reses);\n    });\n    return () => unsub;\n  }, [collection]);\n\n  return { docs, error };\n};\n\nexport default useCollection;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,EAAE,QAAQ,oBAAoB;AAEvC,SAASC,UAAU,EAAEC,UAAU,EAAEC,OAAO,EAAEC,KAAK,EAAEC,KAAK,QAAQ,oBAAoB;AAClF,OAAOC,WAAW,MAAM,eAAe;AAEvC,MAAMC,aAAa,GAAGA,CAACC,GAAG,EAAEC,KAAK,EAAEC,MAAM,KAAK;EAAAC,GAAA;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAC5C,MAAM,CAACC,IAAI,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACzC,MAAM,CAACiB,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM;IAAEmB;EAAK,CAAC,GAAGZ,WAAW,EAAE;EAE9BM,EAAA,CAAAd,SAAS,CAAAc,EAAA,CAAC,MAAM;IAAAA,EAAA;IACd,IAAIO,MAAM,GAAGlB,UAAU,CAACD,EAAE,EAAEQ,GAAG,CAAC;IAEhC,IAAIC,KAAK,EAAE;MACTX,SAAS,CAAC,MAAM;QACdqB,MAAM,GAAGf,KAAK,CAACe,MAAM,EAAEd,KAAK,CAAC,KAAK,EAAE,IAAI,EAAEa,IAAI,CAACE,GAAG,CAAC,EAAEjB,OAAO,CAACM,KAAK,CAAC,CAAC;MACtE,CAAC,CAAC;IACJ;IAEA,MAAMY,KAAK,GAAGnB,UAAU,CAACiB,MAAM,EAAGG,GAAG,IAAK;MACxC,IAAIC,KAAK,GAAG,EAAE;MACdD,GAAG,CAACR,IAAI,CAACU,OAAO,CAAEC,GAAG,IAAK;QACxBF,KAAK,CAACG,IAAI,CAAC;UAAEC,EAAE,EAAEF,GAAG,CAACE,EAAE;UAAE,GAAGF,GAAG,CAACG,IAAI;QAAG,CAAC,CAAC;MAC3C,CAAC,CAAC;MACFb,YAAY,CAACQ,KAAK,CAAC;IACrB,CAAC,CAAC;IACF,OAAO,MAAMF,KAAK;EACpB,CAAC,mCAAE,CAACpB,UAAU,CAAC,CAAC;EAEhB,OAAO;IAAEa,IAAI;IAAEE;EAAM,CAAC;AACxB,CAAC;AAACL,GAAA,CAzBIJ,aAAa;EAAA,QAGAD,WAAW;AAAA;AAwB9B,eAAeC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}