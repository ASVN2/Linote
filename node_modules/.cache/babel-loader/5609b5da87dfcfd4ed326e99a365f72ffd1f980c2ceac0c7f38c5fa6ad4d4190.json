{"ast":null,"code":"import _objectSpread from\"/home/av/Desktop/linote/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/home/av/Desktop/linote/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/av/Desktop/linote/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{db}from'../firebase/config';import{collection,onSnapshot,orderBy,query,where}from'firebase/firestore';import useProvider from'./useProvider';var useCollection=function useCollection(col,order,filter){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),docs=_useState2[0],setDocuments=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useProvider=useProvider(),user=_useProvider.user;useEffect(function(){var docRef=collection(db,col);console.log();docRef=query(docRef,where.apply(void 0,_toConsumableArray(filter)),orderBy.apply(void 0,_toConsumableArray(order)));var unsub=onSnapshot(docRef,function(snt){var reses=[];snt.docs.forEach(function(doc){reses.push(_objectSpread({id:doc.id},doc.data()));});setDocuments(reses);});return function(){return unsub;};},[collection,order,filter]);return{docs:docs,error:error};};export default useCollection;","map":{"version":3,"names":["React","useEffect","useState","db","collection","onSnapshot","orderBy","query","where","useProvider","useCollection","col","order","filter","_useState","_useState2","_slicedToArray","docs","setDocuments","_useState3","_useState4","error","setError","_useProvider","user","docRef","console","log","apply","_toConsumableArray","unsub","snt","reses","forEach","doc","push","_objectSpread","id","data"],"sources":["/home/av/Desktop/linote/src/hooks/useCollection.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { db } from '../firebase/config';\n\nimport { collection, onSnapshot, orderBy, query, where } from 'firebase/firestore';\nimport useProvider from './useProvider';\n\nconst useCollection = (col, order, filter) => {\n  const [docs, setDocuments] = useState('');\n  const [error, setError] = useState('');\n  const { user } = useProvider();\n\n  useEffect(() => {\n    let docRef = collection(db, col);\n\n    console.log();\n    docRef = query(docRef, where(...filter), orderBy(...order));\n\n    const unsub = onSnapshot(docRef, (snt) => {\n      let reses = [];\n      snt.docs.forEach((doc) => {\n        reses.push({ id: doc.id, ...doc.data() });\n      });\n      setDocuments(reses);\n    });\n    return () => unsub;\n  }, [collection, order, filter]);\n\n  return { docs, error };\n};\n\nexport default useCollection;\n"],"mappings":"8UAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,EAAE,KAAQ,oBAAoB,CAEvC,OAASC,UAAU,CAAEC,UAAU,CAAEC,OAAO,CAAEC,KAAK,CAAEC,KAAK,KAAQ,oBAAoB,CAClF,MAAO,CAAAC,WAAW,KAAM,eAAe,CAEvC,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,GAAG,CAAEC,KAAK,CAAEC,MAAM,CAAK,CAC5C,IAAAC,SAAA,CAA6BZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlCG,IAAI,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IACzB,IAAAI,UAAA,CAA0BjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,YAAA,CAAiBd,WAAW,EAAE,CAAtBe,IAAI,CAAAD,YAAA,CAAJC,IAAI,CAEZvB,SAAS,CAAC,UAAM,CACd,GAAI,CAAAwB,MAAM,CAAGrB,UAAU,CAACD,EAAE,CAAEQ,GAAG,CAAC,CAEhCe,OAAO,CAACC,GAAG,EAAE,CACbF,MAAM,CAAGlB,KAAK,CAACkB,MAAM,CAAEjB,KAAK,CAAAoB,KAAA,QAAAC,kBAAA,CAAIhB,MAAM,EAAC,CAAEP,OAAO,CAAAsB,KAAA,QAAAC,kBAAA,CAAIjB,KAAK,EAAC,CAAC,CAE3D,GAAM,CAAAkB,KAAK,CAAGzB,UAAU,CAACoB,MAAM,CAAE,SAACM,GAAG,CAAK,CACxC,GAAI,CAAAC,KAAK,CAAG,EAAE,CACdD,GAAG,CAACd,IAAI,CAACgB,OAAO,CAAC,SAACC,GAAG,CAAK,CACxBF,KAAK,CAACG,IAAI,CAAAC,aAAA,EAAGC,EAAE,CAAEH,GAAG,CAACG,EAAE,EAAKH,GAAG,CAACI,IAAI,EAAE,EAAG,CAC3C,CAAC,CAAC,CACFpB,YAAY,CAACc,KAAK,CAAC,CACrB,CAAC,CAAC,CACF,MAAO,kBAAM,CAAAF,KAAK,GACpB,CAAC,CAAE,CAAC1B,UAAU,CAAEQ,KAAK,CAAEC,MAAM,CAAC,CAAC,CAE/B,MAAO,CAAEI,IAAI,CAAJA,IAAI,CAAEI,KAAK,CAALA,KAAM,CAAC,CACxB,CAAC,CAED,cAAe,CAAAX,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}