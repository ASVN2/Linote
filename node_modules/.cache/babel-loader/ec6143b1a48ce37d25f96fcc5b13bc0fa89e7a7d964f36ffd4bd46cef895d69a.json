{"ast":null,"code":"import _slicedToArray from\"/home/av/Desktop/linote/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/home/av/Desktop/linote/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createContext,useEffect,useReducer}from'react';import{onAuthStateChanged}from'firebase/auth';import{auth}from'../firebase/config';import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Authcontext=/*#__PURE__*/createContext();var authReducer=function authReducer(state,action){switch(action.type){case'LOGIN':return _objectSpread(_objectSpread({},state),{},{user:action.payload});case'LOGOUT':return _objectSpread(_objectSpread({},state),{},{user:null});case'AUTH_IS_READY':return{user:action.payload,authIsReady:true};case'CURRENT_NOTE':return _objectSpread(_objectSpread({},state),{},{note:action.payload});case'THEME':return _objectSpread(_objectSpread({},state),{},{theme:action.payload});}};export var AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useReducer=useReducer(authReducer,{theme:'dark',user:null,authIsReady:false,note:null}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){var unsub=onAuthStateChanged(auth,function(user){dispatch({type:'AUTH_IS_READY',payload:user});unsub();});},[]);return/*#__PURE__*/_jsxs(Authcontext.Provider,{value:_objectSpread(_objectSpread({},state),{},{dispatch:dispatch}),children:[\" \",children,\" \"]});};","map":{"version":3,"names":["createContext","useEffect","useReducer","onAuthStateChanged","auth","jsxs","_jsxs","Authcontext","authReducer","state","action","type","_objectSpread","user","payload","authIsReady","note","theme","AuthContextProvider","_ref","children","_useReducer","_useReducer2","_slicedToArray","dispatch","unsub","Provider","value"],"sources":["/home/av/Desktop/linote/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useEffect, useReducer } from 'react';\n\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from '../firebase/config';\n\nexport const Authcontext = createContext();\n\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload };\n    case 'LOGOUT':\n      return { ...state, user: null };\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true };\n    case 'CURRENT_NOTE':\n      return { ...state, note: action.payload };\n    case 'THEME':\n      return { ...state, theme: action.payload };\n  }\n};\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, {\n    theme: 'dark',\n    user: null,\n    authIsReady: false,\n    note: null,\n  });\n\n  useEffect(() => {\n    const unsub = onAuthStateChanged(auth, (user) => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user });\n      unsub();\n    });\n  }, []);\n\n  return <Authcontext.Provider value={{ ...state, dispatch }}> {children} </Authcontext.Provider>;\n};\n"],"mappings":"yNAAA,OAASA,aAAa,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAE5D,OAASC,kBAAkB,KAAQ,eAAe,CAClD,OAASC,IAAI,KAAQ,oBAAoB,CAAC,OAAAC,IAAA,IAAAC,KAAA,yBAE1C,MAAO,IAAM,CAAAC,WAAW,cAAGP,aAAa,EAAE,CAE1C,GAAM,CAAAQ,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,KAAK,CAAEC,MAAM,CAAK,CACrC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,OAAO,CACV,OAAAC,aAAA,CAAAA,aAAA,IAAYH,KAAK,MAAEI,IAAI,CAAEH,MAAM,CAACI,OAAO,GACzC,IAAK,QAAQ,CACX,OAAAF,aAAA,CAAAA,aAAA,IAAYH,KAAK,MAAEI,IAAI,CAAE,IAAI,GAC/B,IAAK,eAAe,CAClB,MAAO,CAAEA,IAAI,CAAEH,MAAM,CAACI,OAAO,CAAEC,WAAW,CAAE,IAAK,CAAC,CACpD,IAAK,cAAc,CACjB,OAAAH,aAAA,CAAAA,aAAA,IAAYH,KAAK,MAAEO,IAAI,CAAEN,MAAM,CAACI,OAAO,GACzC,IAAK,OAAO,CACV,OAAAF,aAAA,CAAAA,aAAA,IAAYH,KAAK,MAAEQ,KAAK,CAAEP,MAAM,CAACI,OAAO,GAAG,CAEjD,CAAC,CAED,MAAO,IAAM,CAAAI,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAC5C,IAAAC,WAAA,CAA0BnB,UAAU,CAACM,WAAW,CAAE,CAChDS,KAAK,CAAE,MAAM,CACbJ,IAAI,CAAE,IAAI,CACVE,WAAW,CAAE,KAAK,CAClBC,IAAI,CAAE,IACR,CAAC,CAAC,CAAAM,YAAA,CAAAC,cAAA,CAAAF,WAAA,IALKZ,KAAK,CAAAa,YAAA,IAAEE,QAAQ,CAAAF,YAAA,IAOtBrB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAwB,KAAK,CAAGtB,kBAAkB,CAACC,IAAI,CAAE,SAACS,IAAI,CAAK,CAC/CW,QAAQ,CAAC,CAAEb,IAAI,CAAE,eAAe,CAAEG,OAAO,CAAED,IAAK,CAAC,CAAC,CAClDY,KAAK,EAAE,CACT,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAOnB,KAAA,CAACC,WAAW,CAACmB,QAAQ,EAACC,KAAK,CAAAf,aAAA,CAAAA,aAAA,IAAOH,KAAK,MAAEe,QAAQ,CAARA,QAAQ,EAAG,CAAAJ,QAAA,EAAC,GAAC,CAACA,QAAQ,CAAC,GAAC,GAAuB,CACjG,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}