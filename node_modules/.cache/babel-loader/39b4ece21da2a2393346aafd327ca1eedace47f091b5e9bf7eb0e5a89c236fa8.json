{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { db } from '../firebase/config';\nimport { getDoc, collection, doc, onSnapshot } from 'firebase/firestore';\nconst useCollection = collection => {\n  _s();\n  const [docs, setDocuments] = useState('this');\n  const [error, setError] = useState('');\n  useEffect(() => {\n    let docRef = collection(db, collection);\n    const unsub = onSnapshot(docRef, snt => {\n      let reses = [];\n      snt.docs.forEach(doc => {\n        reses.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      setDocuments(reses);\n    });\n    return () => unsub;\n  }, [collection]);\n  return {\n    docs,\n    error\n  };\n};\n_s(useCollection, \"7Uv7T/thaEtELSN15hNTywuDZYE=\");\nexport default useCollection;","map":{"version":3,"names":["React","useEffect","useState","db","getDoc","collection","doc","onSnapshot","useCollection","_s","docs","setDocuments","error","setError","docRef","unsub","snt","reses","forEach","push","id","data"],"sources":["/home/av/Desktop/linote/src/hooks/useCollection.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { db } from '../firebase/config';\n\nimport { getDoc, collection, doc, onSnapshot } from 'firebase/firestore';\n\nconst useCollection = (collection) => {\n  const [docs, setDocuments] = useState('this');\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    let docRef = collection(db, collection);\n\n    const unsub = onSnapshot(docRef, (snt) => {\n      let reses = [];\n      snt.docs.forEach((doc) => {\n        reses.push({ id: doc.id, ...doc.data() });\n      });\n      setDocuments(reses);\n    });\n    return () => unsub;\n  }, [collection]);\n\n  return { docs, error };\n};\n\nexport default useCollection;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,EAAE,QAAQ,oBAAoB;AAEvC,SAASC,MAAM,EAAEC,UAAU,EAAEC,GAAG,EAAEC,UAAU,QAAQ,oBAAoB;AAExE,MAAMC,aAAa,GAAIH,UAAU,IAAK;EAAAI,EAAA;EACpC,MAAM,CAACC,IAAI,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,MAAM,CAAC;EAC7C,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAEtCD,SAAS,CAAC,MAAM;IACd,IAAIa,MAAM,GAAGT,UAAU,CAACF,EAAE,EAAEE,UAAU,CAAC;IAEvC,MAAMU,KAAK,GAAGR,UAAU,CAACO,MAAM,EAAGE,GAAG,IAAK;MACxC,IAAIC,KAAK,GAAG,EAAE;MACdD,GAAG,CAACN,IAAI,CAACQ,OAAO,CAAEZ,GAAG,IAAK;QACxBW,KAAK,CAACE,IAAI,CAAC;UAAEC,EAAE,EAAEd,GAAG,CAACc,EAAE;UAAE,GAAGd,GAAG,CAACe,IAAI;QAAG,CAAC,CAAC;MAC3C,CAAC,CAAC;MACFV,YAAY,CAACM,KAAK,CAAC;IACrB,CAAC,CAAC;IACF,OAAO,MAAMF,KAAK;EACpB,CAAC,EAAE,CAACV,UAAU,CAAC,CAAC;EAEhB,OAAO;IAAEK,IAAI;IAAEE;EAAM,CAAC;AACxB,CAAC;AAACH,EAAA,CAlBID,aAAa;AAoBnB,eAAeA,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}